<div class="gallery">
	{% for block in section.blocks %}
		<div class="image-wrap" style="
			background-image: url(' {{ block.settings.image | img_url: '750x' }} ');" >
			
		</div>
	{% endfor %}
</div>

{% schema %}
{
	"name": "Gallery",
	"settings": [
		{
			"type":      "select",
			"id":        "per_row",
			"label":     "Images per row",
			"options": [
				{
					"value": "49.5%",
					"label": "2 per row"
				},
				{
					"value": "32.5%",
					"label": "3 per row"
				},
				{
					"value": "24.5%",
					"label": "4 per row"
				},
				{
					"value": "19.5%",
					"label": "5 per row"
				}
			],
			"default":   "32.5%"
		},
		{
			"type":   "range",
			"id":     "image_height",
			"min":       250,
			"max":       750,
			"step":      10,
			"label":     "Image height",
			"default":   500
		}
	],
	"blocks": [
		{
			"type": "image",
			"name": "Image Block",
			"settings": [
				{
					"type": "image_picker",
					"id": "image",
					"label": "Pick image"
				}
			]
		}
	],
	"presets": [
		{
			"category": "Custom Content",
			"name": "Image gallery"
		}
	]
}
{% endschema %}

{% style %}
	.image-wrap {
		display: inline-block;
		width: {{ section.settings.per_row }};
		height: {{ section.settings.image_height }}px; 
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
	}
{% endstyle %}

{% javascript %}
{% endjavascript %}