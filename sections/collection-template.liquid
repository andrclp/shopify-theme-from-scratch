{% paginate collection.products by section.settings.pagination %}
    <h1>{{ collection.title }}</h1>
    {% for product in collection.products %}
        <div>
            <a href="{{ product.url | within: collection }}">{{ product.title }}</a>
    
            <span>{{ product.price | money }}</span>
            {% if product.available == false %}
                <br>
                    <strong>out of stock</strong>
                </br>
            {% endif %}
            
            <a href="{{ product.url | within: collection }}">
                <img src="{{ product.featured_image.src | img_url: '200x' }}" alt="{{ product.featured_image.alt | escape }}" />
            </a>
            
        </div>
    {% else %}
        <p>no matches</p>
    {% endfor %}
    
    {% if paginate.pages > 1 %}
        {{ paginate | default_pagination }}
    {% endif %}
{% endpaginate %}

{% schema %}
	{
		"name": "Collection",
		"settings": [
			{
				"type":   "range",
				"id":     "pagination",
				"min":       4,
				"max":       24,
				"step":      4,
				"label":     "Products per page",
				"default":   4
			}
		]
	}
{% endschema %}

{% stylesheet 'scss' %}
	
{% endstylesheet %}